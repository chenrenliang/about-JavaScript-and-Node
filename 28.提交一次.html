<script src="https://lib.baomitu.com/axios/0.16.2/axios.js"></script>
<div>
<input id="t" name="t" value="hello" type="text"></input>
<input id="submitBtn" type="submit"></input>
</div>
<img id="gaobai" alt="未加载图片">
<script>
    function once(fn){
        return function(...args) {
            if(fn) {
                let ret = fn.apply(this, args)
                fn = null 
                return ret
            }
        };
    }

    const api = `https://test.h5jun.com/index/gaobai?text=`

    submitBtn.onclick = once(async evt => {
        console.log('submit')
        evt.preventDefault()

        let { data } = await axios.get(api + t.value)

        gaobai.src = 'data:image/jpeg;base64,' + data.data
        console.log('data:image/jpeg;base64,' + data.data)
    })


</script>